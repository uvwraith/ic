/* Minified on 1/14/2022 */
"use strict";class IdleTimeout{constructor(e,t){this._options={delay:6e5,pollDelay:6e4,keepAliveEvents:["keydown","mousedown","mousemove","touchstart","touchend","wheel"]},this._done=!0,this._resetPoll=()=>{clearTimeout(this._timer);const e=this.delay-this.duration,t=this.pollDelay>e?e:this.pollDelay;this._timer=window.setTimeout(this._pollHandler,t)},this._pollHandler=()=>{this._dispatchEvent("idletimeout-poll"),this.duration<this.delay?this._resetPoll():(this._dispatchEvent("idletimeout-expire"),this.cancel())},this._eventHandler=e=>{this._done||"message"===e.type&&"idletimeout-reset"!==e.data||this.resetTimer()},this._element=e,this._options=Object.assign({},this._options,t),this.resetTimer()}_initEventListeners(){this._options.keepAliveEvents.forEach(e=>{this._element.addEventListener(e,this._eventHandler)}),window.addEventListener("message",this._eventHandler)}_destroyEventListeners(){this._options.keepAliveEvents.forEach(e=>{this._element.removeEventListener(e,this._eventHandler)}),window.removeEventListener("message",this._eventHandler)}_dispatchEvent(e){const t=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:this});this._element.dispatchEvent(t)}resetTimer(){this._done&&(this._done=!1,this._initEventListeners()),this._dispatchEvent("idletimeout-start"),this._startTime=Date.now(),this._resetPoll()}cancel(){this._done=!0,clearTimeout(this._timer),this._destroyEventListeners()}get element(){return this._element}get duration(){return Date.now()-this._startTime}get delay(){return this._options.delay}get pollDelay(){return this._options.pollDelay}get startTime(){return this._startTime}}
//# sourceMappingURL=idle-timeout-ts.min.js.map
